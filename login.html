<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/x-icon" href="/static/snapi2.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snapi - Login</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="nav-left">
                <a href="/">Home</a>
                <a href="/add-photos-videos">Add Photos & Videos</a>
                <a href="/about-us">About Us</a>
                <a href="/contact-us">Contact Us</a>
            </div>
            <div class="nav-right">
                <div class="auth-group">
                    {% if user %}
                        <a href="/settings" class="settings-link" style="color: white; text-decoration: none; font-weight: bold; padding: 6px 0;">
                            ‚öôÔ∏è Settings
                        </a>
                        <span class="welcome-message">Welcome, {{ user.username }}!</span>
                        <a href="/logout">
                            <button class="logout-btn">
                                üîì Logout
                            </button>
                        </a>
                    {% else %}
                        <a href="/login">
                            <button class="login-btn">
                                üîí Login
                            </button>
                        </a>
                        <a href="/signup">
                            <button class="signup-btn">
                                üë§ Sign up
                            </button>
                        </a>
                    {% endif %}
                </div>
            </div>

        </nav>
    </header>

    <div class="main-content">

        <section class="login-container">
            <h2>Login</h2>

            {# --- ERROR DISPLAY BLOCK --- #}
            {% if error %}
            <p class="error-message" style="color: red; font-weight: bold; margin-bottom: 15px; text-align: center;">
                {{ error }}
            </p>
            {% endif %}
            {# ------------------------- #}

            <form method="post" action="/login">
                {# This hidden field tells the POST route where to redirect after success #}
                <input type="hidden" name="next_url" value="{{ next_url }}">

                <input type="text" name="username" placeholder="Username" required><br><br>
                <input type="password" name="password" placeholder="Password" required><br><br>
                <button type="submit">Login</button>
            </form>

            {# Link to sign up page if the user doesn't have an account #}
            <a href="/signup" class="auth-switch-link">Don't have an account? Sign up here.</a>

        </section>

    </div>

</body>
</html>